<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">

<script>
today = new Date();

function proc1(){
	
	myday = new Date("1999.5.9");
// 	myday = new Date(1990, 3, 12);

	toTime = today.getTime();
	myTime = myday.getTime();
	
	time = toTime - myTime;
	
// 	alert(toTime + " " + myTime + " " + time);
	res = time / 1000 / 60 / 60 / 24 / 365;
	
	str = "현재날짜 : " + today.toLocaleString() + "<br>";
	str += "생일 : " + myday.toLocaleString() + "<br>";
	str += "지금까지 : " + res + "만큼 살아오셨군요 ...";
	
	document.getElementById('d1').innerHTML = str;
}

function proc2(){
	//오늘의 millisec
	toMilli = today.getTime();

	//100일의 millisec
	toMilli100 = 1000*60*60*24*100;
	
	//오늘의 millisec + 100일의 millisec
	time = toMilli + toMilli100;
	
	//Date 객체 생성 - 오늘의 millisec + 100일의 millisec
	dday = new Date(time);
	
// 	alert(dday.toLocaleString());
	
	document.getElementById('d2').innerHTML = dday.toLocaleString();
	
}

function checkDate(){

// 	1. id가 pdate인 엘리먼트의 값을 가져와 변수에 대입한다 
	pvalue = document.getElementById('pdate').value;
	
// 	2. 1번의 값으로 Date객체를 생성한다 - -pday
	pday = new Date(pvalue);
	
// 	3. 오늘의 값으로 Date객체를 생성한다 -today
	
// 	4. getTime()을 이용하여 3번에서 2번을 뺀 값을 계산 – milisec값
	time = today.getTime() - pday.getTime();
	
// 	5. 4번의 값으로 하루의 값(milisec)을 계산하여 나눈다   
// 		time/(1000*60*60*24)      // time에서 일을 구할때는 나누기 
	days = time/(1000*60*60*24);
	
// 	6.  5번의 값이 7보다 큰지 안큰지 비교 
// 		7보다 크면 교환기간이 지났습니다 
//  	아니면  교환 가능합니다 .
	if(days > 7) str = "교환 / 환불 불가";
	else str = "교환 / 환불 가능";
	
	res = "구입 날짜 : " + pvalue + "<br>" + str;
	
	document.getElementById('d3').innerHTML = res;
}
</script>
</head>
<body>
	<pre>
		getTime() : 경과시간 구하기, millesec값을 리턴한다.
		태어난 날로부터 현재까지의 년수를 구한다.
	</pre>
	<input type="button" value="확인" onclick="proc1()">
	<br><br>
	<div id="d1"></div>
	
	<pre>
		getTime() : 경과시간 구하기, millesec값을 리턴한다.
		100일 후의 날짜를 얻는다.
	</pre>
	<input type="button" value="확인" onclick="proc2()">
	<br><br>
	<div id="d2"></div>
	
	<pre>
		getTime() : 경과시간 구하기, millesec값을 리턴한다.
		달력에서 구입 날짜를 선택하여 오늘까지 7일이 경과 했는지 비교한다.
		경과 시에는 교환 환불 불가
		아니면 교환 환불 가능
	</pre>
	<input type="date" id="pdate">
	<button onclick="checkDate()">검사</button>
	<br><br>
	<div id="d3"></div>
</body>
</html>